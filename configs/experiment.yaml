# SecPipeAI — Experiment Configuration
# Datasets: CICIDS2017 (UNB CIC), UNSW-NB15 (UNSW)
# All metrics produced by executed code; do not edit outputs/ manually.

experiment:
  name: "ids-baseline-2026"
  random_state: 42
  # Multi-seed settings (Phase 2 — CLAUDE.md)
  seeds: [1, 2, 3, 4, 5]   # default 5 seeds; set to [1..10] for more rigour
  bootstrap_reps: 1000      # number of bootstrap resamples for 95% CI
  bootstrap_max_samples: 50000  # stratified subsample cap for bootstrap speed (full set used for point estimates)

paths:
  raw_data:       "data/raw"
  processed_data: "data/processed"
  models:         "outputs/models"
  metrics:        "outputs/metrics"
  figures:        "outputs/figures"
  checksums:      "configs/checksums.yaml"

datasets:
  cicids2017:
    raw_subdir:   "cicids2017"
    # NOTE: CIC CSVs have leading spaces in headers; the preprocessor strips them.
    label_col:    "Label"
    benign_label: "BENIGN"
    test_size:    0.2
    stratify:     true
    # Cap training set to 200k rows (stratified) for seed runs — keeps runtime manageable.
    # The fixed test set is NOT capped so evaluation is always on the full held-out split.
    cap_rows:     200000

  unsw_nb15:
    raw_subdir:   "unsw_nb15"
    train_file:   "UNSW_NB15_training-set.csv"
    test_file:    "UNSW_NB15_testing-set.csv"
    label_col:    "label"
    drop_cols:
      - "id"
      - "attack_cat"    # multi-class label — drop to prevent leakage
    categorical_cols:
      - "proto"
      - "service"
      - "state"
    # Official training set is ~175k rows — under the 200k cap, so no cap applied.
    # Uncomment the line below to cap if runtime becomes an issue:
    # cap_rows: 200000

models:
  - name: dummy
    params:
      strategy: "most_frequent"

  - name: logistic_regression
    params:
      max_iter: 2000      # raised for convergence on large/high-dim data
      C: 1.0
      random_state: 42   # overridden per-seed in seed_runner

  - name: random_forest
    params:
      n_estimators: 300  # ≤ 300 per CLAUDE.md constraint
      max_depth: 20      # ≤ 20 per CLAUDE.md constraint
      random_state: 42   # overridden per-seed in seed_runner

  - name: xgboost
    params:
      n_estimators: 500  # ≤ 500 per CLAUDE.md constraint
      max_depth: 8       # ≤ 8 per CLAUDE.md constraint
      learning_rate: 0.1
      subsample: 0.9     # ≤ 0.9 per CLAUDE.md constraint
      colsample_bytree: 0.9
      random_state: 42   # overridden per-seed in seed_runner
